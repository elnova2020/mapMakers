(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{44:function(e,t,a){},83:function(e,t,a){},84:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a(0),c=a.n(r),o=a(13),s=a.n(o),i=(a(44),a(16)),l=a(17),p=a(20),u=a(19),d=a(14),j=a(2),g=a(12),h=a.n(g),f=a(38),m=a(18),b=a(9),v=a(21),O=a(36),y=a.n(O),x={store:function(e,t){sessionStorage[e]=JSON.stringify(t)},load:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=sessionStorage[e];return a?JSON.parse(a):t},clear:function(){sessionStorage.clear()}};var k={query:function(e){return w.apply(this,arguments)},getPlaces:function(){var e=x.load(S);if(!e)return C;return e},addPlace:function(e){C.unshift(e),x.store(S,C)}},S="PLACES",C=[{name:"Tel-Aviv: dizingov, 23",lat:32.0750224,lng:34.7749395},{name:"Haifa, Derech Simha Golan 54",lat:32.789711,lng:35.0078224}];function w(){return(w=Object(m.a)(h.a.mark((function e(t){var a,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a="https://maps.googleapis.com/maps/api/geocode/json?address=".concat(t,"&key=AIzaSyCH-jmqS38VxKTB2yaaz9xPB95yW3TyeG4"),e.next=4,y.a.get(a);case 4:return n=e.sent,e.abrupt("return",n.data.results[0].geometry.location);case 8:throw e.prev=8,e.t0=e.catch(0),console.log("Could not get places ",e.t0),e.t0;case 12:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}var N=function(e){Object(p.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={activeMarker:{},selectedPlace:{},addresseName:"",places:[],isWrongLoc:!1},e.onMapClicked=function(){e.state.showingInfoWindow&&e.setState({showingInfoWindow:!1,activeMarker:null})},e.loadPlaces=function(){var t=k.getPlaces();e.setState(Object(b.a)(Object(b.a)({},e.state),{},{places:t}))},e.onAddMarker=function(){var t=Object(m.a)(h.a.mark((function t(a){var n,r;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.prev=1,n=e.state.addresseName.replace(/\s/g,"%20"),t.next=5,k.query(n);case 5:r=t.sent,e.setState(Object(b.a)(Object(b.a)({},e.state),{},{places:[].concat(Object(f.a)(e.state.places),[{name:e.state.addresseName,lat:r.lat,lng:r.lng}]),isWrongLoc:!1}),(function(){k.addPlace({name:e.state.addresseName,lat:r.lat,lng:r.lng})})),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(1),console.log("Could not add marker",t.t0),e.setState(Object(b.a)(Object(b.a)({},e.state),{},{isWrongLoc:!0}));case 13:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}(),e.onHandleChange=function(t){var a=t.target;e.setState(Object(b.a)(Object(b.a)({},e.state),{},{addresseName:a.value}))},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.loadPlaces()}},{key:"render",value:function(){var e=this.state,t=e.places,a=e.isWrongLoc;return t?Object(n.jsxs)("section",{className:"page-map",children:[Object(n.jsxs)("form",{className:"page-map-form flex align-center justify-center",action:"",onSubmit:this.onAddMarker,children:[Object(n.jsx)("input",{className:"page-map-input",type:"text",placeholder:"Type location",onChange:this.onHandleChange}),Object(n.jsx)("button",{children:"Add Marker"})]}),a&&Object(n.jsx)("div",{className:"page-map-wrong-loc",children:"You have entered a wrong location , please try again."}),Object(n.jsx)(v.Map,{google:this.props.google,initialCenter:{lat:32.0750224,lng:34.7749395},onClick:this.onMapClicked,zoom:7,style:{position:"relative",width:"85%",height:"700px",margin:"auto",bottom:"0"},children:t.map((function(e,t){return Object(n.jsx)(v.Marker,{name:e.name,position:{lat:e.lat,lng:e.lng}},t)}))})]}):Object(n.jsx)("div",{children:"Loading..."})}}]),a}(r.Component),M=[{path:"/",component:Object(v.GoogleApiWrapper)({apiKey:"AIzaSyCH-jmqS38VxKTB2yaaz9xPB95yW3TyeG4"})(N)}];var P=Object(j.e)((function(){return Object(n.jsx)("nav",{className:"appHeader-nav-color",children:Object(n.jsx)("div",{className:"appHeader-nav flex justify-between container",children:Object(n.jsx)("h1",{className:"flex align-center justify-center",children:"MapMarkers"})})})})),A=(a(83),function(e){Object(p.a)(a,e);var t=Object(u.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return Object(n.jsxs)("main",{children:[Object(n.jsx)(P,{}),Object(n.jsx)(d.a,{children:M.map((function(e){return Object(n.jsx)(j.a,{exact:!0,component:e.component,path:e.path},e.path)}))})]})}}]),a}(c.a.Component)),W=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,85)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,c=t.getLCP,o=t.getTTFB;a(e),n(e),r(e),c(e),o(e)}))};s.a.render(Object(n.jsx)(d.a,{children:Object(n.jsx)(A,{})}),document.getElementById("root")),W()}},[[84,1,2]]]);
//# sourceMappingURL=main.9c24f647.chunk.js.map